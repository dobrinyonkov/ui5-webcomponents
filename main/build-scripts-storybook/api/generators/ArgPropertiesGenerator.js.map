{"version":3,"file":"ArgPropertiesGenerator.js","sourceRoot":"","sources":["../../../../build-scripts-storybook/api/generators/ArgPropertiesGenerator.ts"],"names":[],"mappings":"AAIA,MAAM,OAAO,sBAAsB;IAExB,OAAO,CAAC,GAAwB;QACnC,OAAO,GAAG,CAAC,SAAS,KAAK,YAAY,CAAC;IAC1C,CAAC;IAEM,QAAQ,CAAC,GAAuB,EAAE,SAAqB;QAC1D,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,GAAG,CAAC,UAAU,KAAK,QAAQ,EAAE;YAC7B,MAAM,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC7C,IAAI,GAAG,CAAC,QAAQ,EAAE;gBACd,MAAM,GAAG;oBACL,OAAO,EAAE;wBACL,IAAI,EAAE,KAAK;qBACd;iBACJ,CAAC;aACL;iBAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE;gBAC5C,MAAM,GAAG;oBACL,OAAO,EAAE,QAAQ;oBACjB,OAAO,EAAE,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;iBAClD,CAAC;aACL;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;CACJ","sourcesContent":["import type { IApiReader, IComponentParsedAPI, IComponentProperty } from \"../ApiReader\";\nimport { InputType as IArgType } from \"@storybook/types\";\nimport { IGenerator } from \"./ArgGenerator\";\n\nexport class ArgPropertiesGenerator implements IGenerator {\n\n    public isMatch(api: IComponentParsedAPI): boolean {\n        return api.fieldName === \"properties\";\n    }\n\n    public generate(api: IComponentProperty, apiReader: IApiReader): IArgType {\n        let result = {};\n        if (api.visibility === \"public\") {\n            const typeEnum = apiReader.findApi(api.type);\n            if (api.readonly) {\n                result = {\n                    control: {\n                        type: false,\n                    },\n                };\n            } else if (Array.isArray(typeEnum?.properties)) {\n                result = {\n                    control: \"select\",\n                    options: typeEnum.properties.map((a) => a.type),\n                };\n            }\n        }\n\n        return result;\n    }\n}\n"]}